<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>QMTracker</title>
    <link rel="stylesheet" href="static/memorization.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="static/memorization.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">-->
</head>
<body>
{% if app_on == False: %}
    <form method="POST">
        <input class="button-3" type="submit" name="app_on" value="Turn on app">
    </form>
{% else: %}
    <div class="memorized_header">
        <h1>Qur'an Memorization Tracker</h1>

    </div>
    <div style="padding: 15px;">
        <i class="fa fa-bars" id="menu_toggle" aria-hidden="true"></i>
    </div>
    <div class="misc">
    <form method="POST", id="misc">
<!--        <input type="submit" name="show_memorized" value="Show Memorized">-->
<!--        <p>Memorized Surahs: <br>{{memorized_surahs}}</p>-->
<!--        <h2>Surah List</h2>-->
        <div class="surah_list hidden container">

            {% for i in range(1,31) %}
                <div class="juz juz_{{i}}" style="background-color: #EBEBEB">
                    <p>Juz' {{i}}</p>

                    <div class="juz_surahs">
                {% for idx, surah in surah_list[surah_list["juz_no"] == i].iterrows() %}
                    <input class="{{'memorized' if backend.view_surah_memorized(surah['surah_no']) else 'unmemorized'}} surah_list_surah" type="submit" name="select_{{surah['surah_no']}}" value="{{surah['surah_name_roman']}} - {{surah['surah_no']}}">
                {% endfor %}
                    </div>
                </div>
            {% endfor %}

        </div>

    </form>
    </div>
    <div class="all_surah" id="all_surah">
    <form method="POST", id="toggle_ayat">
        {% for i in range(surah_shown_index,surah_shown_index + 1) %}
        <div class="surah_div">
            <div class="surah_name">
                <input class="{{'memorized' if backend.view_surah_memorized(i) else 'unmemorized'}} surah" type="submit" name="toggle_surah_{{i}}" value="{{backend.view_ayah(i,[1])['surah_name_roman'].item()}} - {{i}}">
            </div>
            {% for j in range(1,backend.return_length_of_surah(i)+1) %}
            <div class="ayah">
                <div class="ayah_num_div">
                    <input class= "{{'memorized' if backend.view_ayah_memorized(i,[j]) else 'unmemorized'}} ayah_num"type="submit" name="toggle_ayah_{{i}}_{{j}}" value="{{j}}">

                </div>
                <div class="ayah_text_div">
                    <p class="ayah_text">{{backend.view_ayah(i,[j])["ayah_ar"].item()}}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endfor %}
    </form>
    </div>
{% endif %}

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>-->
</body>
</html>